{"remainingRequest":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\00_WORK\\workspace\\vue_frontend\\src\\store\\index.js","dependencies":[{"path":"C:\\00_WORK\\workspace\\vue_frontend\\src\\store\\index.js","mtime":1593134078208},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBsb2dpblN0YXRlOiB0cnVlLAogICAgY2hpZWZZbjogJ04nLAogICAgaGVhZGVyczogewogICAgICBiZWFyZXI6IG51bGwKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihfcmVmLCBfcmVmMikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgaWQgPSBfcmVmMi5pZCwKICAgICAgICAgIHBhc3N3b3JkID0gX3JlZjIucGFzc3dvcmQ7CiAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm0uYXBwZW5kKCdpZCcsIGlkKTsKICAgICAgZm9ybS5hcHBlbmQoJ3Bhc3N3b3JkJywgcGFzc3dvcmQpOwogICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2xvZ2luX3Byb2Nlc3NpbmcnLCBmb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygnbG9naW4gZGF0YScsIHJlcy5kYXRhKTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLmlzU3VjY2VzcykgewogICAgICAgICAgX3RoaXMuc3RhdGUuY2hpZWZZbiA9IHJlcy5kYXRhLmNoaWVmWW47CiAgICAgICAgICBjb21taXQoJ0xPR0lOJywgcmVzLmhlYWRlcnMpOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIHJlcy5oZWFkZXJzLmJlYXJlcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIExPR09VVDogZnVuY3Rpb24gTE9HT1VUKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgnTE9HT1VUJyk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIElORk86IGZ1bmN0aW9uIElORk8oX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgdGhpcy5sb2dpblN0YXRlID0gdHJ1ZTsKICAgICAgdmFyIF9zZXNzaW9uU3RvcmFnZSA9IHNlc3Npb25TdG9yYWdlLAogICAgICAgICAgYmVhcmVyID0gX3Nlc3Npb25TdG9yYWdlLmJlYXJlcjsKICAgICAgaWYgKCFiZWFyZXIpIHJldHVybjsKICAgICAgdGhpcy5sb2dpblN0YXRlID0gZmFsc2U7CiAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyBiZWFyZXI7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihzdGF0ZSwgX3JlZjUpIHsKICAgICAgdmFyIGJlYXJlciA9IF9yZWY1LmJlYXJlcjsKICAgICAgdGhpcy5sb2dpblN0YXRlID0gZmFsc2U7CiAgICAgIHNlc3Npb25TdG9yYWdlLmJlYXJlciA9IGJlYXJlcjsKICAgIH0sCiAgICBMT0dPVVQ6IGZ1bmN0aW9uIExPR09VVChzdGF0ZSkgewogICAgICB0aGlzLmxvZ2luU3RhdGUgPSB0cnVlOwogICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gbnVsbDsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["C:/00_WORK/workspace/vue_frontend/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","loginState","chiefYn","headers","bearer","actions","LOGIN","commit","id","password","form","FormData","append","post","then","res","console","log","data","isSuccess","defaults","common","Authorization","alert","message","LOGOUT","INFO","sessionStorage","mutations","clear","modules"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,UAAU,EAAE,IADP;AAELC,IAAAA,OAAO,EAAE,GAFJ;AAGLC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE;AADD;AAHJ,GADqB;AAQ5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,KADO,8BAC8B;AAAA;;AAAA,UAA5BC,MAA4B,QAA5BA,MAA4B;AAAA,UAAhBC,EAAgB,SAAhBA,EAAgB;AAAA,UAAZC,QAAY,SAAZA,QAAY;AACnC,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,MAAAA,IAAI,CAACE,MAAL,CAAY,IAAZ,EAAkBJ,EAAlB;AACAE,MAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBH,QAAxB;AAEA,aAAOZ,KAAK,CAACgB,IAAN,CAAW,mBAAX,EAAgCH,IAAhC,EACJI,IADI,CACC,UAAAC,GAAG,EAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,GAAG,CAACG,IAA9B;;AACA,YAAIH,GAAG,CAACG,IAAJ,CAASC,SAAb,EAAwB;AACtB,UAAA,KAAI,CAACnB,KAAL,CAAWE,OAAX,GAAqBa,GAAG,CAACG,IAAJ,CAAShB,OAA9B;AACAK,UAAAA,MAAM,CAAC,OAAD,EAAUQ,GAAG,CAACZ,OAAd,CAAN;AACAN,UAAAA,KAAK,CAACuB,QAAN,CAAejB,OAAf,CAAuBkB,MAAvB,CAA8BC,aAA9B,GAA8C,YAAYP,GAAG,CAACZ,OAAJ,CAAYC,MAAtE;AACD,SAJD,MAIO;AACLmB,UAAAA,KAAK,CAACR,GAAG,CAACG,IAAJ,CAASM,OAAV,CAAL;AACD;;AACD,eAAOT,GAAG,CAACG,IAAX;AACD,OAXI,CAAP;AAYD,KAlBM;AAmBPO,IAAAA,MAnBO,yBAmBa;AAAA,UAAVlB,MAAU,SAAVA,MAAU;AAClBA,MAAAA,MAAM,CAAC,QAAD,CAAN;AACA,aAAO,IAAP;AACD,KAtBM;AAuBPmB,IAAAA,IAvBO,uBAuBW;AAAA,UAAVnB,MAAU,SAAVA,MAAU;AAChB,WAAKN,UAAL,GAAkB,IAAlB;AADgB,4BAEG0B,cAFH;AAAA,UAERvB,MAFQ,mBAERA,MAFQ;AAGhB,UAAI,CAACA,MAAL,EAAa;AACb,WAAKH,UAAL,GAAkB,KAAlB;AACAJ,MAAAA,KAAK,CAACuB,QAAN,CAAejB,OAAf,CAAuBkB,MAAvB,CAA8BC,aAA9B,GAA8C,YAAYlB,MAA1D;AACD;AA7BM,GARmB;AAuC5BwB,EAAAA,SAAS,EAAE;AACTtB,IAAAA,KADS,iBACFN,KADE,SACiB;AAAA,UAAVI,MAAU,SAAVA,MAAU;AACxB,WAAKH,UAAL,GAAkB,KAAlB;AACA0B,MAAAA,cAAc,CAACvB,MAAf,GAAwBA,MAAxB;AACD,KAJQ;AAKTqB,IAAAA,MALS,kBAKDzB,KALC,EAKM;AACb,WAAKC,UAAL,GAAkB,IAAlB;AACA0B,MAAAA,cAAc,CAACE,KAAf;AACAhC,MAAAA,KAAK,CAACuB,QAAN,CAAejB,OAAf,CAAuBkB,MAAvB,CAA8BC,aAA9B,GAA8C,IAA9C;AACD;AATQ,GAvCiB;AAkD5BQ,EAAAA,OAAO,EAAE;AAlDmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    loginState: true,\r\n    chiefYn: 'N',\r\n    headers: {\r\n      bearer: null\r\n    }\r\n  },\r\n  actions: {\r\n    LOGIN ({ commit }, { id, password }) {\r\n      const form = new FormData()\r\n      form.append('id', id)\r\n      form.append('password', password)\r\n\r\n      return axios.post('/login_processing', form)\r\n        .then(res => {\r\n          console.log('login data', res.data)\r\n          if (res.data.isSuccess) {\r\n            this.state.chiefYn = res.data.chiefYn\r\n            commit('LOGIN', res.headers)\r\n            axios.defaults.headers.common.Authorization = 'Bearer ' + res.headers.bearer\r\n          } else {\r\n            alert(res.data.message)\r\n          }\r\n          return res.data\r\n        })\r\n    },\r\n    LOGOUT ({ commit }) {\r\n      commit('LOGOUT')\r\n      return true\r\n    },\r\n    INFO ({ commit }) {\r\n      this.loginState = true\r\n      const { bearer } = sessionStorage\r\n      if (!bearer) return\r\n      this.loginState = false\r\n      axios.defaults.headers.common.Authorization = 'Bearer ' + bearer\r\n    }\r\n  },\r\n  mutations: {\r\n    LOGIN (state, { bearer }) {\r\n      this.loginState = false\r\n      sessionStorage.bearer = bearer\r\n    },\r\n    LOGOUT (state) {\r\n      this.loginState = true\r\n      sessionStorage.clear()\r\n      axios.defaults.headers.common.Authorization = null\r\n    }\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"]}]}