{"remainingRequest":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\plando\\MyPlandoView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\plando\\MyPlandoView.vue","mtime":1593134078213},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgR3JvdXBDb2RlIGZyb20gJy4uLy4uL21peGlucy9Hcm91cENvZGUuanMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ015UGxhbmRvVmlldycsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB0aGlzV2VlazogeyB9LCAvLyDquIjso7wg64Kg7KecKOyLnOyekeydvH7sooXro4zsnbwpDQogICAgICBuZXh0V2Vla1RleHQ6ICcnLCAvLyDssKjso7wg64Kg7KecIHRleHQNCiAgICAgIGRlcGFydG1lbnRzOiBbXSwgLy8g67aA7ISc66qFDQogICAgICBkb1Jvd3M6IFtdLCAvLyDquIjso7zsi6TsoIEgcm93DQogICAgICBwbGFuUm93czogW10gLy8g7LCo7KO86rOE7ZqNIHJvdw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgew0KICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS50aGlzV2Vlaykgew0KICAgICAgdGhpcy5zZXR0aW5nRGF0ZShuZXcgRGF0ZSh0aGlzLiRyb3V0ZS5xdWVyeS50aGlzV2VlaykpDQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMuc2V0dGluZ0RhdGUobmV3IERhdGUoKSkNCiAgICB9DQogICAgdGhpcy5nZXREZXBhcnRtZW50SW5mbygpIC8vIOu2gOyEnCDsoJXrs7Qg6rCA7KC47Jik6riwDQogICAgdGhpcy5nZXRQbGFuZG9MaXN0KHRoaXMudGhpc1dlZWspDQogIH0sDQogIHdhdGNoOiB7DQogICAgLyog6riI7KO87J2YIOyLnOyekeydvCDrs4Dqsr3snYQg6rCQ7KeADQogICAg6riI7KO8IOuCoOynnCDshKDtg50g7IucLCDsgqzsmqnsnpDqsIAg7Iuc7J6R7J287J2EIOyWtOuWpCDsmpTsnbzroZwg7ISg7YOd7ZWY65OgIOustOyhsOqxtCDsm5TsmpTsnbzsnbQg7Iuc7J6R7J287J20IOuQmOuPhOuhnSDshLjtjIUgKi8NCiAgICAndGhpc1dlZWsuc3RhcnQnOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy50aGlzV2Vlay5zdGFydC5nZXREYXkoKSAhPT0gMSkgew0KICAgICAgICB0aGlzLnRoaXNXZWVrLnN0YXJ0LnNldERhdGUodGhpcy50aGlzV2Vlay5zdGFydC5nZXREYXRlKCkgLSAodGhpcy50aGlzV2Vlay5zdGFydC5nZXREYXkoKSAtIDEpKQ0KICAgICAgfQ0KICAgICAgLyog64Kg7KecKDIwMjDrhYQgNuyblCAxMuydvCnrpbwg7YG066at7Jy866GcIOyngeygkSDshKDtg53tlZwg6rK97JqwIDIwMjDrhYQgNuyblCAxMuydvCAw7IucIDDrtoQgMOy0iCDstpzroKXrkJjqs6AsDQogICAgICAgIERC7KCA7J6l7IucIDIwMjDrhYQgNuyblCAxMeydvOuhnCDsoIDsnqXrkJjripQg66y47KCcIOuwnOyDnQ0KICAgICAgICDrlLDrnbzshJwg7IucLOu2hCzstIjrpbwg642U7ZWcIOqwkuydtCAw7J2066m0IOuCoOynnOulvCDri6Tsi5wg7IS47YyF7ZWc64ukICovDQogICAgICB0aGlzLnRoaXNXZWVrLnN0YXJ0LnNldEhvdXJzKDEyKQ0KICAgICAgdmFyIGRhdGUgPSB0aGlzLmNhbGN1bGF0aW9uRGF0ZSh0aGlzLnRoaXNXZWVrLnN0YXJ0KQ0KICAgICAgdGhpcy50aGlzV2Vlay5lbmQgPSBkYXRlLndrRW5kDQogICAgICB0aGlzLm5leHRXZWVrVGV4dCA9IGRhdGUubndTdGFydFRleHQgKyAnIC0gJyArIGRhdGUubndFbmRUZXh0DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2FsY3VsYXRpb25EYXRlOiBmdW5jdGlvbiAoYW5jaG9yRGF0ZSkgew0KICAgICAgYW5jaG9yRGF0ZS5zZXRIb3VycygxMikNCiAgICAgIGNvbnN0IGN1cnJlbnRXZWVrRGF5ID0gYW5jaG9yRGF0ZS5nZXREYXkoKQ0KICAgICAgY29uc3QgbGVzc0RheXMgPSBjdXJyZW50V2Vla0RheSA9PT0gMCA/IDYgOiBjdXJyZW50V2Vla0RheSAtIDENCiAgICAgIGNvbnN0IHdrU3RhcnQgPSBuZXcgRGF0ZShuZXcgRGF0ZShhbmNob3JEYXRlKS5zZXREYXRlKGFuY2hvckRhdGUuZ2V0RGF0ZSgpIC0gbGVzc0RheXMpKQ0KICAgICAgY29uc3Qgd2tFbmQgPSBuZXcgRGF0ZShuZXcgRGF0ZSh3a1N0YXJ0KS5zZXREYXRlKHdrU3RhcnQuZ2V0RGF0ZSgpICsgNCkpDQogICAgICBjb25zdCBud1N0YXJ0ID0gbmV3IERhdGUobmV3IERhdGUod2tTdGFydCkuc2V0RGF0ZSh3a1N0YXJ0LmdldERhdGUoKSArIDcpKQ0KICAgICAgY29uc3QgbndFbmQgPSBuZXcgRGF0ZShuZXcgRGF0ZShud1N0YXJ0KS5zZXREYXRlKG53U3RhcnQuZ2V0RGF0ZSgpICsgNCkpDQogICAgICBjb25zdCBud1N0YXJ0VGV4dCA9IG53U3RhcnQudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLnJlcGxhY2UoLy0vZywgJy4nKQ0KICAgICAgY29uc3QgbndFbmRUZXh0ID0gbndFbmQudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLnJlcGxhY2UoLy0vZywgJy4nKQ0KDQogICAgICByZXR1cm4geyB3a1N0YXJ0OiB3a1N0YXJ0LCB3a0VuZDogd2tFbmQsIG53U3RhcnQ6IG53U3RhcnQsIG53U3RhcnRUZXh0OiBud1N0YXJ0VGV4dCwgbndFbmRUZXh0OiBud0VuZFRleHQgfQ0KICAgIH0sDQogICAgLyog7Jik64qYIOuCoOynnOulvCDrsJvslYTsmYDshJwg6riI7KO8IOuCoOynnOyZgCDssKjso7wg64Kg7KecIGRlZmF1bHQgc2V0dGluZyAqLw0KICAgIHNldHRpbmdEYXRlOiBmdW5jdGlvbiAoaW5pdERhdGUpIHsNCiAgICAgIHZhciBkYXRlID0gdGhpcy5jYWxjdWxhdGlvbkRhdGUoaW5pdERhdGUpDQogICAgICB0aGlzLnRoaXNXZWVrLnN0YXJ0ID0gZGF0ZS53a1N0YXJ0DQogICAgICB0aGlzLnRoaXNXZWVrLmVuZCA9IGRhdGUud2tFbmQNCiAgICAgIHRoaXMubmV4dFdlZWtUZXh0ID0gZGF0ZS5ud1N0YXJ0VGV4dCArICcgLSAnICsgZGF0ZS5ud0VuZFRleHQNCiAgICB9LA0KICAgIC8qIOu2gOyEnCDsoJXrs7Qg6rCA7KC47Jik6riwICovDQogICAgZ2V0RGVwYXJ0bWVudEluZm86IGZ1bmN0aW9uICgpIHsNCiAgICAgIGF4aW9zLmdldCgnL2FwaS9nZXREZXBhcnRtZW50SW5mbycsIHsNCiAgICAgICAgcGFyYW1zOiB7IGdyY29kZTogR3JvdXBDb2RlLkRFUEFSVE1FTlQgfQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy5kZXBhcnRtZW50cy5wdXNoKC4uLnJlc3BvbnNlLmRhdGEuZGF0YSkNCiAgICAgICAgICB9DQogICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgZWRpdFBsYW5kbzogZnVuY3Rpb24gKHRoaXNXZWVrKSB7DQogICAgICBheGlvcy5nZXQoJy9hcGkvZ2V0UGxhbmRvTGlzdCcsIHsNCiAgICAgICAgcGFyYW1zOiB7IHNEYXRlOiB0aGlzLmRhdGVUb1N0cmluZyh0aGlzV2Vlay5zdGFydCkgfQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAnL3BsYW5kby9yZWdpJywgcXVlcnk6IHsgc0RhdGU6IHRoaXNXZWVrLnN0YXJ0LnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwgbGlzdERhdGE6IHJlc3BvbnNlLmRhdGEuZGF0YSwgbW9kZTogJ2VkaXQnIH0gfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLyog7JeF66y07Iuk7KCBIOyhsO2ajCAqLw0KICAgIGdldFBsYW5kb0xpc3Q6IGZ1bmN0aW9uICh0aGlzV2Vlaykgew0KICAgICAgbGV0IHNEYXRlID0gbnVsbA0KICAgICAgLy8gc0RhdGUg7ISk7KCVDQogICAgICBzRGF0ZSA9IHRoaXMuZGF0ZVRvU3RyaW5nKHRoaXNXZWVrLnN0YXJ0KQ0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL2dldFBsYW5kb0xpc3QnLCB7DQogICAgICAgIHBhcmFtczogeyBzRGF0ZTogc0RhdGUsIGdyY29kZTogR3JvdXBDb2RlLlNUQVRFIH0NCiAgICAgIH0pDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAgIC8vIOuqqOuToCDtlonsnYQg7KeA7Jqw6rOgIOuLpOyLnCBwdXNoDQogICAgICAgICAgICB0aGlzLmRvUm93cy5zcGxpY2UoMCkNCiAgICAgICAgICAgIHRoaXMucGxhblJvd3Muc3BsaWNlKDApDQoNCiAgICAgICAgICAgIGNvbnN0IGRvRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7DQogICAgICAgICAgICAgIHJldHVybiBlbC5ndWJ1biA9PT0gJzEnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgY29uc3QgcGxhbkRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChlbCkgew0KICAgICAgICAgICAgICByZXR1cm4gZWwuZ3VidW4gPT09ICcyJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGZvciAodmFyIHZhbHVlIG9mIHJlc3BvbnNlLmRhdGEuZGF0YSkgew0KICAgICAgICAgICAgICB2YWx1ZS5jb250ZW50ID0gdmFsdWUuY29udGVudC5yZXBsYWNlKC8gL2csICcmbmJzcDsnKSAvLyDrnYTslrTsk7DquLAg7LKY66asDQogICAgICAgICAgICAgIHZhbHVlLmNvbnRlbnQgPSB2YWx1ZS5jb250ZW50LnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7JykgLy8gPCAsID4g7LKY66asDQogICAgICAgICAgICAgIHZhbHVlLmNvbnRlbnQgPSB2YWx1ZS5jb250ZW50LnJlcGxhY2UoLyg/OlxyXG58XHJ8XG4pL2csICc8YnI+JykgLy8g7KSE67CU6r+IIOyymOumrA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5kb1Jvd3MucHVzaCguLi5kb0RhdGEpDQogICAgICAgICAgICB0aGlzLnBsYW5Sb3dzLnB1c2goLi4ucGxhbkRhdGEpDQoNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvRGF0YSkNCiAgICAgICAgICB9DQogICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLyog64Kg7KecIO2YleyLnSDrs4DtmZggKi8NCiAgICBkYXRlVG9TdHJpbmc6IGZ1bmN0aW9uIChkYXRlKSB7DQogICAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkucmVwbGFjZSgvLS9nLCAnJykNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["MyPlandoView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyPlandoView.vue","sourceRoot":"src/views/plando","sourcesContent":["<template>\r\n  <div class=\"conts-area\">\r\n    <div class=\"conts-tit\">\r\n      <h2>업무실적 조회</h2>\r\n    </div>\r\n    <div class=\"list-top-area\">\r\n      <div class=\"fl\">\r\n        <label for=\"s1\">부서명</label>\r\n        <select id=\"s1\" title=\"select\" disabled>\r\n          <option v-for=\"department in departments\" v-bind:key=\"department.scode\" v-bind:value=\"department.scode\" v-bind:selected=\"department.myDept==='Y'\">{{ department.scodeNm }}</option>\r\n        </select>\r\n      </div>\r\n      <p class=\"d-in fl mt5 mg10\">금주</p>\r\n      <div class=\"fl wp25\">\r\n        <div class=\"vcal-area\">\r\n          <v-date-picker\r\n            mode='range'\r\n            v-model='thisWeek'\r\n            :disabled-dates='{ weekdays: [1, 7] }'\r\n            :popover=\"{ placement: 'bottom', visibility: 'click' }\">\r\n          </v-date-picker>\r\n          <span class=\"vc-ico\"></span>\r\n        </div>\r\n      </div>\r\n      <p class=\"d-in fl mt5 mg10\">차주</p>\r\n      <input type=\"text\" v-model=\"nextWeekText\" readonly>\r\n    </div>\r\n    <div class=\"clearfix mt20\">\r\n      <div class=\"t-right\">\r\n        <button type=\"button\" title=\"수정\" class=\"btn btn-gray\" @click=\"editPlando(thisWeek)\">수정</button>\r\n        <button type=\"button\" title=\"조회\" class=\"btn btn-blue\" @click=\"getPlandoList(thisWeek)\">조회</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"tbl-area\">\r\n      <!-- 금주실적 start -->\r\n      <table class=\"tbl\">\r\n        <caption>리스트</caption>\r\n        <colgroup>\r\n          <col style=\"width:10%\">\r\n          <col style=\"width:60%\">\r\n          <col style=\"width:10%\">\r\n          <col style=\"width:10%\">\r\n          <col style=\"width:10%\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th colspan=\"5\">금주실적</th>\r\n          </tr>\r\n          <tr>\r\n            <th>No</th>\r\n            <th>실적</th>\r\n            <th>시작일</th>\r\n            <th>종료일</th>\r\n            <th>진행사항</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"doRows.length===0\">\r\n            <td colspan=\"5\">등록된 실적이 없습니다</td>\r\n          </tr>\r\n          <tr v-for=\"doValue in doRows\" v-bind:key=\"doValue.serial\">\r\n            <td>{{ doValue.rnum }}</td>\r\n            <td class=\"t-left\" v-html=\"doValue.content\">\r\n            </td>\r\n            <td>{{ doValue.sdate }}</td>\r\n            <td>{{ doValue.edate }}</td>\r\n            <td>\r\n              <label for=\"s1\" class=\"blind\">진행사항</label>\r\n              {{ doValue.proceedNm }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- //금주실적 end -->\r\n      <!-- 차주계획 start -->\r\n      <table class=\"tbl mt30\">\r\n        <caption>리스트</caption>\r\n        <colgroup>\r\n          <col style=\"width:10%\">\r\n          <col style=\"width:60%\">\r\n          <col style=\"width:10%\">\r\n          <col style=\"width:10%\">\r\n          <col style=\"width:10%\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th colspan=\"5\">차주계획</th>\r\n          </tr>\r\n          <tr>\r\n            <th>No</th>\r\n            <th>실적</th>\r\n            <th>시작일</th>\r\n            <th>종료일</th>\r\n            <th>비고</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td colspan=\"5\" v-if=\"planRows.length===0\">등록된 계획이 없습니다</td>\r\n          </tr>\r\n          <tr v-for=\"planValue in planRows\" v-bind:key=\"planValue.serial\">\r\n            <td>{{ planValue.rnum }}</td>\r\n            <td class=\"t-left\" v-html=\"planValue.content\">\r\n            </td>\r\n            <td>{{ planValue.sdate }}</td>\r\n            <td>{{ planValue.edate }}</td>\r\n            <td>\r\n              <label for=\"s2\" class=\"blind\">진행사항</label>\r\n              {{ planValue.bigo }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- //차주계획 end -->\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport GroupCode from '../../mixins/GroupCode.js'\r\n\r\nexport default {\r\n  name: 'MyPlandoView',\r\n  data () {\r\n    return {\r\n      thisWeek: { }, // 금주 날짜(시작일~종료일)\r\n      nextWeekText: '', // 차주 날짜 text\r\n      departments: [], // 부서명\r\n      doRows: [], // 금주실적 row\r\n      planRows: [] // 차주계획 row\r\n    }\r\n  },\r\n  created: function () {\r\n    if (this.$route.query.thisWeek) {\r\n      this.settingDate(new Date(this.$route.query.thisWeek))\r\n    } else {\r\n      this.settingDate(new Date())\r\n    }\r\n    this.getDepartmentInfo() // 부서 정보 가져오기\r\n    this.getPlandoList(this.thisWeek)\r\n  },\r\n  watch: {\r\n    /* 금주의 시작일 변경을 감지\r\n    금주 날짜 선택 시, 사용자가 시작일을 어떤 요일로 선택하든 무조건 월요일이 시작일이 되도록 세팅 */\r\n    'thisWeek.start': function () {\r\n      if (this.thisWeek.start.getDay() !== 1) {\r\n        this.thisWeek.start.setDate(this.thisWeek.start.getDate() - (this.thisWeek.start.getDay() - 1))\r\n      }\r\n      /* 날짜(2020년 6월 12일)를 클릭으로 직접 선택한 경우 2020년 6월 12일 0시 0분 0초 출력되고,\r\n        DB저장시 2020년 6월 11일로 저장되는 문제 발생\r\n        따라서 시,분,초를 더한 값이 0이면 날짜를 다시 세팅한다 */\r\n      this.thisWeek.start.setHours(12)\r\n      var date = this.calculationDate(this.thisWeek.start)\r\n      this.thisWeek.end = date.wkEnd\r\n      this.nextWeekText = date.nwStartText + ' - ' + date.nwEndText\r\n    }\r\n  },\r\n  methods: {\r\n    calculationDate: function (anchorDate) {\r\n      anchorDate.setHours(12)\r\n      const currentWeekDay = anchorDate.getDay()\r\n      const lessDays = currentWeekDay === 0 ? 6 : currentWeekDay - 1\r\n      const wkStart = new Date(new Date(anchorDate).setDate(anchorDate.getDate() - lessDays))\r\n      const wkEnd = new Date(new Date(wkStart).setDate(wkStart.getDate() + 4))\r\n      const nwStart = new Date(new Date(wkStart).setDate(wkStart.getDate() + 7))\r\n      const nwEnd = new Date(new Date(nwStart).setDate(nwStart.getDate() + 4))\r\n      const nwStartText = nwStart.toISOString().substr(0, 10).replace(/-/g, '.')\r\n      const nwEndText = nwEnd.toISOString().substr(0, 10).replace(/-/g, '.')\r\n\r\n      return { wkStart: wkStart, wkEnd: wkEnd, nwStart: nwStart, nwStartText: nwStartText, nwEndText: nwEndText }\r\n    },\r\n    /* 오늘 날짜를 받아와서 금주 날짜와 차주 날짜 default setting */\r\n    settingDate: function (initDate) {\r\n      var date = this.calculationDate(initDate)\r\n      this.thisWeek.start = date.wkStart\r\n      this.thisWeek.end = date.wkEnd\r\n      this.nextWeekText = date.nwStartText + ' - ' + date.nwEndText\r\n    },\r\n    /* 부서 정보 가져오기 */\r\n    getDepartmentInfo: function () {\r\n      axios.get('/api/getDepartmentInfo', {\r\n        params: { grcode: GroupCode.DEPARTMENT }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.departments.push(...response.data.data)\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    editPlando: function (thisWeek) {\r\n      axios.get('/api/getPlandoList', {\r\n        params: { sDate: this.dateToString(thisWeek.start) }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.$router.replace({ path: '/plando/regi', query: { sDate: thisWeek.start.toISOString().substr(0, 10), listData: response.data.data, mode: 'edit' } })\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    /* 업무실적 조회 */\r\n    getPlandoList: function (thisWeek) {\r\n      let sDate = null\r\n      // sDate 설정\r\n      sDate = this.dateToString(thisWeek.start)\r\n      axios.get('/api/getPlandoList', {\r\n        params: { sDate: sDate, grcode: GroupCode.STATE }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            // 모든 행을 지우고 다시 push\r\n            this.doRows.splice(0)\r\n            this.planRows.splice(0)\r\n\r\n            const doData = response.data.data.filter(function (el) {\r\n              return el.gubun === '1'\r\n            })\r\n            const planData = response.data.data.filter(function (el) {\r\n              return el.gubun === '2'\r\n            })\r\n            for (var value of response.data.data) {\r\n              value.content = value.content.replace(/ /g, '&nbsp;') // 띄어쓰기 처리\r\n              value.content = value.content.replace(/</g, '&lt;').replace(/>/g, '&gt;') // < , > 처리\r\n              value.content = value.content.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>') // 줄바꿈 처리\r\n            }\r\n            this.doRows.push(...doData)\r\n            this.planRows.push(...planData)\r\n\r\n            console.log(doData)\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    /* 날짜 형식 변환 */\r\n    dateToString: function (date) {\r\n      return date.toISOString().substr(0, 10).replace(/-/g, '')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}