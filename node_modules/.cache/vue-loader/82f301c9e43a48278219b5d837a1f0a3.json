{"remainingRequest":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\gostop\\GostopRegi.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\gostop\\GostopRegi.vue","mtime":1593763958606},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRGVwdFBsYW5kbycsDQogIGRhdGEgKCkgew0KICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkNCiAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSArIDEpDQogICAgcmV0dXJuIHsNCiAgICAgIHNEYXRlOiB0b21vcnJvdywNCiAgICAgIGVEYXRlOiB0b21vcnJvdywNCiAgICAgIHZDb2RlOiBbXSwNCiAgICAgIHNlbF92Q29kZTogJycsDQogICAgICB0ZXh0YXJlYTogJycsDQogICAgICBob2xpZGF5czogWw0KICAgICAgXSwNCiAgICAgIHRtcERhdGU6ICcnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLyog7Iuc7J6R7J28IOuzgOqyveyLnCDslaHshZggKi8NCiAgICBjaGFuZ2VEYXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zb2xlLmxvZygnY2hhbmdlIGVEYXRlIHdpdGggc0RhdGUnKQ0KICAgICAgLy8g7ISg7YOd7ZWcIO2VtOuLueydvOydtCBob2xpZGF5652866m0LCDsp4HsoIQg7Y+J7J2866GcIOuCoOynnCDshLjtjIUNCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ob2xpZGF5cy5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAodGhpcy5ob2xpZGF5c1tpXSA9PT0gbW9tZW50KHRoaXMuc0RhdGUpLmZvcm1hdCgneXl5eU1NREQnKSkgew0KICAgICAgICAgIGZvciAodmFyIGogPSAoaSAtIDEpOyBqID49IDA7IGotLSkgew0KICAgICAgICAgICAgdGhpcy5zRGF0ZSA9IG1vbWVudCh0aGlzLnNEYXRlKS5hZGQoLTEsICdkYXlzJykuX2QNCiAgICAgICAgICAgIGlmICh0aGlzLmhvbGlkYXlzW2pdICE9PSBtb21lbnQodGhpcy5zRGF0ZSkuZm9ybWF0KCd5eXl5TU1ERCcpKSB7DQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGFsZXJ0KCftnLTsnbzsnYAg7ISg7YOd7ZWgIOyImCDsl4bsirXri4jri6QhJykNCiAgICAgICAgICBicmVhaw0KICAgICAgICB9DQogICAgICB9DQogICAgICB0aGlzLmVEYXRlID0gdGhpcy5zRGF0ZQ0KICAgIH0sDQogICAgLyog6re87YOcIOyiheulmCAqLw0KICAgIGxvYWR2Q29kZTogZnVuY3Rpb24gKCkgew0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL3ZhY2F0aW9uL3NlbGVjdFNjb2RlQTAwNScpDQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0LmRhdGEpDQogICAgICAgICAgdGhpcy52Q29kZSA9IHJlc3VsdC5kYXRhLmRhdGENCiAgICAgICAgICB0aGlzLnNlbF92Q29kZSA9IHJlc3VsdC5kYXRhLmRhdGFbMF0uc2NvZGUNCiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpDQogICAgICAgIH0pDQogICAgfSwNCiAgICAvKiDtnLTsnbwg66as7Iqk7Yq4ICovDQogICAgbG9hZEhvbGlkYXk6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciB0bXBIb2xpZGF5RGF0ZXMgPSBbXQ0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL3ZhY2F0aW9uL3NlbGVjdEhvbGlkYXknKQ0KICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgICAgLy8gZmlsdGVyIOuhnCDquLDriqUg67OA6rK9IOqwgOuKpe2VnOyngCDslYzslYTrs7Tqs6Ag67OA6rK97ZW067O07J6QIQ0KICAgICAgICAgIHRtcEhvbGlkYXlEYXRlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0LmRhdGEuZGF0YSkpDQogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0bXBIb2xpZGF5RGF0ZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHRoaXMuaG9saWRheXMucHVzaCh0bXBIb2xpZGF5RGF0ZXNbaV0ueW1kKQ0KICAgICAgICAgICAgLy8g6riw67O47IS47YyF65CcIOuCtOydvCDrgqDsp5wodG9tb3Jyb3cp6rCAIGhvbGlkYXnrnbzrqbQg64uk7J2M64Kg66GcDQogICAgICAgICAgICBpZiAobW9tZW50KHRoaXMuc0RhdGUpLmZvcm1hdCgneXl5eU1NREQnKSA9PT0gdG1wSG9saWRheURhdGVzW2ldLnltZCkgew0KICAgICAgICAgICAgICB0aGlzLnNEYXRlID0gbW9tZW50KHRtcEhvbGlkYXlEYXRlc1tpXS55bWQpLmFkZCgxLCAnZGF5cycpLl9kDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcikNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8qIOyLnOyekeydvCwg7KKF66OM7J28IOqzteuegO2MkOyglSAqLw0KICAgIGVtcHR5VGVzdDogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMuc0RhdGUgPT09IG51bGwgfHwgdGhpcy5lRGF0ZSA9PT0gbnVsbCB8fCB0aGlzLnRleHRhcmVhLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qIOyehOyLnOyggOyepSAqLw0KICAgIHRtcFNhdmU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLmVtcHR5VGVzdCgpID09PSBmYWxzZSkgew0KICAgICAgICBhbGVydCgn6rO1656A7J20IOyhtOyerO2VqeuLiOuLpCEg66qo65OgIOyeheugpeqwkuydhCDssYTsm4zso7zshLjsmpQnKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFyIHNkID0gbW9tZW50KHRoaXMuc0RhdGUpLmZvcm1hdCgneXl5eU1NREQnKQ0KICAgICAgICB2YXIgZWQgPSBtb21lbnQodGhpcy5lRGF0ZSkuZm9ybWF0KCd5eXl5TU1ERCcpDQogICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvdmFjYXRpb24vaW5zZXJ0VG1wU2F2ZScsIHsNCiAgICAgICAgICBzX2RhdGU6IHNkLA0KICAgICAgICAgIGVfZGF0ZTogZWQsDQogICAgICAgICAgdl9jb2RlOiB0aGlzLnNlbF92Q29kZSwNCiAgICAgICAgICB2X3JlYXNvbjogdGhpcy50ZXh0YXJlYQ0KICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICAgIGFsZXJ0KHJlc3VsdC5kYXRhLm1lc3NhZ2UpDQogICAgICAgICAgICB0aGlzLnRleHRhcmVhID0gJycNCiAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKQ0KICAgICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvKiDqsrDsnqzsg4Hsi6AgKi8NCiAgICByZXFBcHByb3ZlOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy5lbXB0eVRlc3QoKSA9PT0gZmFsc2UpIHsNCiAgICAgICAgYWxlcnQoJ+qzteuegOydtCDsobTsnqztlanri4jri6QhIOuqqOuToCDsnoXroKXqsJLsnYQg7LGE7JuM7KO87IS47JqUJykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhciBzZCA9IG1vbWVudCh0aGlzLnNEYXRlKS5mb3JtYXQoJ3l5eXlNTUREJykNCiAgICAgICAgdmFyIGVkID0gbW9tZW50KHRoaXMuZURhdGUpLmZvcm1hdCgneXl5eU1NREQnKQ0KICAgICAgICBheGlvcy5wb3N0KCcvYXBpL3ZhY2F0aW9uL3JlcUFwcHJvdmUnLCB7DQogICAgICAgICAgc19kYXRlOiBzZCwNCiAgICAgICAgICBlX2RhdGU6IGVkLA0KICAgICAgICAgIHZfY29kZTogdGhpcy5zZWxfdkNvZGUsDQogICAgICAgICAgdl9yZWFzb246IHRoaXMudGV4dGFyZWENCiAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgICAgICBhbGVydChyZXN1bHQuZGF0YS5tZXNzYWdlKQ0KICAgICAgICAgICAgdGhpcy50ZXh0YXJlYSA9ICcnDQogICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcikNCiAgICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCAoKSB7DQogICAgLyog7Y6Y7J207KeAIOuhnOuTnOyLnCDquLDrs7jsnpHrj5kg66mU7IaM65OcICovDQogICAgdGhpcy5sb2FkdkNvZGUoKQ0KICAgIHRoaXMubG9hZEhvbGlkYXkoKQ0KICB9DQp9DQo="},{"version":3,"sources":["GostopRegi.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GostopRegi.vue","sourceRoot":"src/views/gostop","sourcesContent":["<template>\r\n  <div class=\"conts-area\">\r\n    <div class=\"conts-tit\">\r\n      <h2>근태 등록</h2>\r\n    </div>\r\n    <div class=\"list-top-area\">\r\n      <div class=\"t-right\">\r\n        <button type=\"button\" title=\"저장\" class=\"btn btn-blue\" v-on:click=\"tmpSave\">임시저장</button>\r\n        <button type=\"button\" title=\"결재상신\" class=\"btn btn-black\" @click=\"reqApprove\">결재상신</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"tbl-area\">\r\n      <table class=\"tbl tb-detail\">\r\n        <caption>디테일 테이블</caption>\r\n        <colgroup>\r\n          <col style=\"width:30%\">\r\n          <col style=\"width:70%\">\r\n        </colgroup>\r\n        <tbody>\r\n          <tr>\r\n            <th>일자</th>\r\n            <td class=\"t-left\">\r\n              <div class=\"fl wp30\">\r\n                <!-- START calendar start -->\r\n                <div class=\"vcal-area\">\r\n                  <v-date-picker\r\n                    v-model='sDate'\r\n                    :disabled-dates=\"{ weekdays: [1, 7] }\"\r\n                    :popover=\"{ placement: 'bottom', visibility: 'click' }\"\r\n                    :min-date='new Date()'\r\n                    @input='changeDate'>\r\n                  </v-date-picker>\r\n                </div>\r\n                <!-- START calendar end -->\r\n              </div>\r\n              <span class=\"s-h fl\">-</span>\r\n              <div class=\"fl wp30\">\r\n                <!-- END calendar start -->\r\n                <div class=\"vcal-area\">\r\n                  <v-date-picker\r\n                    v-model='eDate'\r\n                    :disabled-dates=\"{ weekdays: [1, 7] }\"\r\n                    :popover=\"{ placement: 'bottom', visibility: 'click' }\"\r\n                    :min-date=\"sDate\">\r\n                  </v-date-picker>\r\n                </div>\r\n                <!-- END calendar end -->\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th>근태 종류</th>\r\n            <td class=\"t-left\">\r\n              <label for=\"s3\" class=\"blind\">근태종류</label>\r\n              <select id=\"s3\" title=\"select\" class=\"wp30\" v-model=\"sel_vCode\">\r\n                <option v-for=\"v in vCode\" v-bind:key=\"v.scode\" v-bind:value=\"v.scode\">{{ v.scodeNm }}</option>\r\n              </select>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th>근태 사유</th>\r\n            <td><textarea id=\"ta2\" name=\"ta2\" v-model=\"textarea\" placeholder=\"신청 사유 자세히 작성 바랍니다 ex) 개인 사정\"></textarea></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'DeptPlando',\r\n  data () {\r\n    const now = new Date()\r\n    const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1)\r\n    return {\r\n      sDate: tomorrow,\r\n      eDate: tomorrow,\r\n      vCode: [],\r\n      sel_vCode: '',\r\n      textarea: '',\r\n      holidays: [\r\n      ],\r\n      tmpDate: ''\r\n    }\r\n  },\r\n  methods: {\r\n    /* 시작일 변경시 액션 */\r\n    changeDate: function () {\r\n      console.log('change eDate with sDate')\r\n      // 선택한 해당일이 holiday라면, 직전 평일로 날짜 세팅\r\n      for (var i = 0; i < this.holidays.length; i++) {\r\n        if (this.holidays[i] === moment(this.sDate).format('yyyyMMDD')) {\r\n          for (var j = (i - 1); j >= 0; j--) {\r\n            this.sDate = moment(this.sDate).add(-1, 'days')._d\r\n            if (this.holidays[j] !== moment(this.sDate).format('yyyyMMDD')) {\r\n              break\r\n            }\r\n          }\r\n          alert('휴일은 선택할 수 없습니다!')\r\n          break\r\n        }\r\n      }\r\n      this.eDate = this.sDate\r\n    },\r\n    /* 근태 종류 */\r\n    loadvCode: function () {\r\n      axios.get('/api/vacation/selectScodeA005')\r\n        .then((result) => {\r\n          console.log('result', result.data)\r\n          this.vCode = result.data.data\r\n          this.sel_vCode = result.data.data[0].scode\r\n        }).catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    /* 휴일 리스트 */\r\n    loadHoliday: function () {\r\n      var tmpHolidayDates = []\r\n      axios.get('/api/vacation/selectHoliday')\r\n        .then((result) => {\r\n          // filter 로 기능 변경 가능한지 알아보고 변경해보자!\r\n          tmpHolidayDates = JSON.parse(JSON.stringify(result.data.data))\r\n          for (var i = 0; i < tmpHolidayDates.length; i++) {\r\n            this.holidays.push(tmpHolidayDates[i].ymd)\r\n            // 기본세팅된 내일 날짜(tomorrow)가 holiday라면 다음날로\r\n            if (moment(this.sDate).format('yyyyMMDD') === tmpHolidayDates[i].ymd) {\r\n              this.sDate = moment(tmpHolidayDates[i].ymd).add(1, 'days')._d\r\n            }\r\n          }\r\n        }).catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    /* 시작일, 종료일 공란판정 */\r\n    emptyTest: function () {\r\n      if (this.sDate === null || this.eDate === null || this.textarea.length === 0) {\r\n        return false\r\n      }\r\n    },\r\n    /* 임시저장 */\r\n    tmpSave: function () {\r\n      if (this.emptyTest() === false) {\r\n        alert('공란이 존재합니다! 모든 입력값을 채워주세요')\r\n      } else {\r\n        var sd = moment(this.sDate).format('yyyyMMDD')\r\n        var ed = moment(this.eDate).format('yyyyMMDD')\r\n        axios.post('/api/vacation/insertTmpSave', {\r\n          s_date: sd,\r\n          e_date: ed,\r\n          v_code: this.sel_vCode,\r\n          v_reason: this.textarea\r\n        })\r\n          .then((result) => {\r\n            alert(result.data.message)\r\n            this.textarea = ''\r\n          }).catch((error) => {\r\n            console.log('error', error)\r\n          })\r\n      }\r\n    },\r\n    /* 결재상신 */\r\n    reqApprove: function () {\r\n      if (this.emptyTest() === false) {\r\n        alert('공란이 존재합니다! 모든 입력값을 채워주세요')\r\n      } else {\r\n        var sd = moment(this.sDate).format('yyyyMMDD')\r\n        var ed = moment(this.eDate).format('yyyyMMDD')\r\n        axios.post('/api/vacation/reqApprove', {\r\n          s_date: sd,\r\n          e_date: ed,\r\n          v_code: this.sel_vCode,\r\n          v_reason: this.textarea\r\n        })\r\n          .then((result) => {\r\n            alert(result.data.message)\r\n            this.textarea = ''\r\n          }).catch((error) => {\r\n            console.log('error', error)\r\n          })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    /* 페이지 로드시 기본작동 메소드 */\r\n    this.loadvCode()\r\n    this.loadHoliday()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}