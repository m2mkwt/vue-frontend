{"remainingRequest":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\vcode\\insertAcnt.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\vcode\\insertAcnt.vue","mtime":1593582755288},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0RlcHRQbGFuZG8nLA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2FsbFllYXJzOiBbXSwNCiAgICAgIGNoZWNrZWQ6IGZhbHNlLA0KICAgICAgaXNIaWRkZW46IFtdLA0KICAgICAgcG9Kc29uOiBbXSwNCiAgICAgIHNlYXJjaFllYXI6IFtdLA0KICAgICAgc2VsX3NlYXJjaFllYXI6ICcnLA0KICAgICAgdmlzaWJsZTogZmFsc2UsDQogICAgICB0ZW1wRGF0YTogew0KICAgICAgICB1c2VySWQ6ICcnLA0KICAgICAgICB1c2VyTmFtZTogJycsDQogICAgICAgIHNlbFllYXI6ICcnDQogICAgICB9LA0KICAgICAgZGF5T2ZmTGlzdDogew0KICAgICAgICBlYWNoTWVtYmVyOiB7DQogICAgICAgICAgaWQ6ICcnLA0KICAgICAgICAgIG5hbWU6ICcnLA0KICAgICAgICAgIGFjbnQ6ICcnLA0KICAgICAgICAgIHN1bU1pbnVzRGF5b2ZmOiAnJw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7DQogICAgdGhpcy5nZXRDYWxlbmRhclllYXIoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0Q2FsZW5kYXJZZWFyOiBmdW5jdGlvbiAoKSB7IC8vIOy6mOumsOuNlCDrhYTrj4Qg7KCV67O0IOqwgOyguOyYpOq4sA0KICAgICAgYXhpb3MNCiAgICAgICAgLmdldCgnL2FwaS92YWNhdGlvbi9zZWxlY3RDYWxlbmRhclllYXInKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkNCiAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gcmVzLmRhdGEuZGF0YSkgew0KICAgICAgICAgICAgdGhpcy5jYWxsWWVhcnMucHVzaChyZXMuZGF0YS5kYXRhW2ldLnllYXIpDQogICAgICAgICAgICBpZiAoU3RyaW5nKHllYXIpID09PSBTdHJpbmcodGhpcy5jYWxsWWVhcnNbaV0pKSB7DQogICAgICAgICAgICAgIHRoaXMuY2FsbFllYXJzLnNwbGljZShpLCAxKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmNhbGxZZWFycy5zb3J0KCkNCiAgICAgICAgICB0aGlzLmNhbGxZZWFycy51bnNoaWZ0KFN0cmluZyh5ZWFyKSkNCiAgICAgICAgICBpZiAodGhpcy5jYWxsWWVhcnNbMF0gIT09ICcnKSB7DQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkWWVhciA9IHRoaXMuY2FsbFllYXJzWzBdDQogICAgICAgICAgfQ0KICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8vIO2BtOumreyLnCDsnbjtkovrsJXsiqTroZwg67CU64CcDQogICAgY2xrUm93OiBmdW5jdGlvbiAoaSkgew0KICAgICAgY29uc3QgZWRpdENoayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdlZGl0Q2hrJykNCiAgICAgIGNvbnN0IGVkaXRDaGtBbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnZWRpdENoa0FsbCcpDQogICAgICB2YXIgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCduYW1lJykNCiAgICAgIGlmIChpID09PSAnQWxsJykgew0KICAgICAgICBmb3IgKGxldCBsZ2ggPSAwOyBsZ2ggPCBuYW1lLmxlbmd0aDsgbGdoKyspIHsNCiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pc0hpZGRlbiwgbGdoLCBlZGl0Q2hrQWxsWzBdLmNoZWNrZWQpDQogICAgICAgICAgZWRpdENoa1tsZ2hdLmNoZWNrZWQgPSBlZGl0Q2hrQWxsWzBdLmNoZWNrZWQNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuaXNIaWRkZW4sIGksICF0aGlzLmlzSGlkZGVuW2ldKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLyog7Jew7LCoIOuwnOyDnSDsoIDsnqUgKi8NCiAgICBpbnNlcnRBY250OiBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zb2xlLmxvZygnc2VsX3NlYXJjaFllYXIgOjogJywgdGhpcy5zZWxfc2VhcmNoWWVhcikNCiAgICAgIHZhciBpbnB1dEFjbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnYWNudCcpDQogICAgICB2YXIgaW5wdXRJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdpZCcpDQogICAgICBjb25zb2xlLmxvZygnaW5wdXRBY250IDo6ICcsIGlucHV0QWNudCkNCiAgICAgIGNvbnNvbGUubG9nKCdpbnB1dEFjbnRbaV0udmFsdWUgOjogJywgaW5wdXRBY250WzBdLnZhbHVlKQ0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dEFjbnQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY29uc29sZS5sb2coJ2lucHV0SWRbaV0udmFsdWUgOjogJywgaW5wdXRJZFtpXS52YWx1ZSkNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2lucHV0QWNudFtpXS52YWx1ZSA6OiAnLCBpbnB1dEFjbnRbaV0udmFsdWUpDQogICAgICAgIHZhciBpbnNlcnRBY250TGlzdCA9IHsNCiAgICAgICAgLy8gICBpZDogdGhpcy5kYXlPZmZMaXN0W2ldLmlkLA0KICAgICAgICAgIGlkOiBpbnB1dElkW2ldLnZhbHVlLA0KICAgICAgICAgIHllYXI6IHRoaXMuc2VsX3NlYXJjaFllYXIsDQogICAgICAgICAgYV9jbnQ6IGlucHV0QWNudFtpXS52YWx1ZQ0KICAgICAgICB9DQogICAgICAgIHRoaXMucG9Kc29uLnB1c2goaW5zZXJ0QWNudExpc3QpDQogICAgICB9DQogICAgICBheGlvcy5wb3N0KCcvYXBpL2RlcHRNZW1iZXIvaW5zZXJ0QWNudCcsIHRoaXMucG9Kc29uKQ0KICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdEFsbE1lbWJlcnNEYXlPZmZMaXN0IHJlc3VsdCA6ICcsIHJlc3VsdC5kYXRhLmRhdGEpDQogICAgICAgICAgdGhpcy5kYXlPZmZMaXN0ID0gcmVzdWx0LmRhdGEuZGF0YQ0KICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQ0KICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcikNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8qIO2VtOuLuSDrhYTrj4Tsl5Ag6re866y07ZWY64qUIOyngeybkCDrpqzsiqTtirggKi8NCiAgICBsb2FkRGF5T2ZmTGlzdDogZnVuY3Rpb24gKCkgew0KICAgICAgYXhpb3MucG9zdCgnL2FwaS92YWNhdGlvbi9zZWxlY3RBbGxNZW1iZXJzRGF5T2ZmTGlzdCcsIHsNCiAgICAgICAgZ2RhdGU6IHRoaXMuc2VsX3NlYXJjaFllYXINCiAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0QWxsTWVtYmVyc0RheU9mZkxpc3QgcmVzdWx0IDogJywgcmVzdWx0LmRhdGEuZGF0YSkNCiAgICAgICAgICB0aGlzLmRheU9mZkxpc3QgPSByZXN1bHQuZGF0YS5kYXRhDQogICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLyog7KGw7ZqMIOyXsOuPhCAqLw0KICAgIGxvYWRBbGxZZWFyOiBmdW5jdGlvbiAoKSB7DQogICAgICBheGlvcy5nZXQoJy9hcGkvdmFjYXRpb24vc2VsZWN0R3VudGFlWWVhcicpDQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICB0aGlzLnNlbF9zZWFyY2hZZWFyID0gcmVzdWx0LmRhdGEuZGF0YVswXS55ZWFyDQogICAgICAgICAgdGhpcy5zZWFyY2hZZWFyID0gcmVzdWx0LmRhdGEuZGF0YQ0KICAgICAgICAgIHRoaXMubG9hZERheU9mZkxpc3QoKQ0KICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcikNCiAgICAgICAgfSkNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIC8qIO2OmOydtOyngCDroZzrk5zsi5wg6riw67O47J6R64+ZIOuplOyGjOuTnCAqLw0KICAgIHRoaXMubG9hZEFsbFllYXIoKQ0KICB9DQp9DQo="},{"version":3,"sources":["insertAcnt.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"insertAcnt.vue","sourceRoot":"src/views/vcode","sourcesContent":["<template>\r\n<div class=\"conts-area\">\r\n    <div class=\"conts-tit\">\r\n    <h2>연도별 휴가 일수 등록</h2>\r\n    </div>\r\n    <div class=\"list-top-area\">\r\n        <label for=\"s1\">년도</label>\r\n        <select id=\"s1\" title=\"select\"  v-model=\"sel_searchYear\" @change=\"loadDayOffList()\">\r\n            <option v-for=\"Y in callYears\" v-bind:key=\"Y.year\" v-bind:value=\"Y\">{{Y}}</option>\r\n        </select>\r\n    <!-- <label for=\"s1\">년도</label>\r\n    <select id=\"s1\" title=\"select\" v-model=\"sel_searchYear\" v-on:change=\"loadDayOffList()\">\r\n        <option v-for=\"v in searchYear\" v-bind:key=\"v.year\" v-bind:value=\"v.year\">{{ v.year }}</option>\r\n    </select> -->\r\n    <button  type=\"button\" title=\"저장\" class=\"fr btn btn-blue\" v-on:click=\"insertAcnt()\">저장</button>\r\n    </div>\r\n    <div class=\"tbl-area\">\r\n    <!-- table detail start -->\r\n    <table class=\"tbl tb-detail\" id=\"tableId\">\r\n        <caption>디테일 테이블</caption>\r\n        <colgroup>\r\n        <col style=\"width:20%\">\r\n        <col style=\"width:30%\">\r\n        <col style=\"width:50%\">\r\n        </colgroup>\r\n        <thead>\r\n        <tr>\r\n            <th> <input type=\"checkbox\" id=\"editChkAll\" name=\"editChkAll\" true-value=\"Y\" false-value=\"N\" v-on:click=\"clkRow('All')\"> </th>\r\n            <th>성명</th>\r\n            <th>발생일수</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n        <tr v-for=\"(v, i) in dayOffList\" v-bind:key=\"v.id\" v-bind:value=\"v.name\">\r\n            <td v-if=\"isHidden[i]\" hidden>\r\n              <input type=\"text\" v-bind:value=\"v.id\" name=\"id\">\r\n            </td>\r\n            <!-- 체크박스 -->\r\n            <td>\r\n                <input type=\"checkbox\" id=\"editChk\" name=\"editChk\" true-value=\"Y\" false-value=\"N\" v-on:click=\"clkRow(i)\" >\r\n            </td>\r\n            <!-- 사원명 -->\r\n            <td  v-if=\"!isHidden[i]\" name=\"name\">\r\n                {{ v.name }}</td>\r\n            <td v-if=\"isHidden[i]\" name=\"name\">\r\n                {{ v.name }}\r\n            </td>\r\n            <!-- 연차 수-->\r\n            <td  v-if=\"!isHidden[i]\">\r\n                {{ v.acnt }}\r\n            </td>\r\n            <td  v-if=\"isHidden[i]\">\r\n                <input type=\"text\" name=\"acnt\" v-bind:placeholder=\"v.acnt\" onKeyup=\"this.value=this.value.replace(/[^0-9]/g,'')\" >\r\n            </td>\r\n\r\n        </tr>\r\n        </tbody>\r\n    </table>\r\n    <!-- table detail end -->\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'DeptPlando',\r\n  data () {\r\n    return {\r\n      callYears: [],\r\n      checked: false,\r\n      isHidden: [],\r\n      poJson: [],\r\n      searchYear: [],\r\n      sel_searchYear: '',\r\n      visible: false,\r\n      tempData: {\r\n        userId: '',\r\n        userName: '',\r\n        selYear: ''\r\n      },\r\n      dayOffList: {\r\n        eachMember: {\r\n          id: '',\r\n          name: '',\r\n          acnt: '',\r\n          sumMinusDayoff: ''\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.getCalendarYear()\r\n  },\r\n  methods: {\r\n    getCalendarYear: function () { // 캘린더 년도 정보 가져오기\r\n      axios\r\n        .get('/api/vacation/selectCalendarYear')\r\n        .then(res => {\r\n          const year = new Date().getFullYear()\r\n          for (const i in res.data.data) {\r\n            this.callYears.push(res.data.data[i].year)\r\n            if (String(year) === String(this.callYears[i])) {\r\n              this.callYears.splice(i, 1)\r\n            }\r\n          }\r\n          this.callYears.sort()\r\n          this.callYears.unshift(String(year))\r\n          if (this.callYears[0] !== '') {\r\n            this.selectedYear = this.callYears[0]\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    // 클릭시 인풋박스로 바뀜\r\n    clkRow: function (i) {\r\n      const editChk = document.getElementsByName('editChk')\r\n      const editChkAll = document.getElementsByName('editChkAll')\r\n      var name = document.getElementsByName('name')\r\n      if (i === 'All') {\r\n        for (let lgh = 0; lgh < name.length; lgh++) {\r\n          this.$set(this.isHidden, lgh, editChkAll[0].checked)\r\n          editChk[lgh].checked = editChkAll[0].checked\r\n        }\r\n      } else {\r\n        this.$set(this.isHidden, i, !this.isHidden[i])\r\n      }\r\n    },\r\n    /* 연차 발생 저장 */\r\n    insertAcnt: function () {\r\n      console.log('sel_searchYear :: ', this.sel_searchYear)\r\n      var inputAcnt = document.getElementsByName('acnt')\r\n      var inputId = document.getElementsByName('id')\r\n      console.log('inputAcnt :: ', inputAcnt)\r\n      console.log('inputAcnt[i].value :: ', inputAcnt[0].value)\r\n      for (var i = 0; i < inputAcnt.length; i++) {\r\n        console.log('inputId[i].value :: ', inputId[i].value)\r\n        // console.log('inputAcnt[i].value :: ', inputAcnt[i].value)\r\n        var insertAcntList = {\r\n        //   id: this.dayOffList[i].id,\r\n          id: inputId[i].value,\r\n          year: this.sel_searchYear,\r\n          a_cnt: inputAcnt[i].value\r\n        }\r\n        this.poJson.push(insertAcntList)\r\n      }\r\n      axios.post('/api/deptMember/insertAcnt', this.poJson)\r\n        .then((result) => {\r\n          console.log('selectAllMembersDayOffList result : ', result.data.data)\r\n          this.dayOffList = result.data.data\r\n          window.location.reload()\r\n        }).catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    /* 해당 년도에 근무하는 직원 리스트 */\r\n    loadDayOffList: function () {\r\n      axios.post('/api/vacation/selectAllMembersDayOffList', {\r\n        gdate: this.sel_searchYear\r\n      })\r\n        .then((result) => {\r\n          console.log('selectAllMembersDayOffList result : ', result.data.data)\r\n          this.dayOffList = result.data.data\r\n        }).catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    },\r\n    /* 조회 연도 */\r\n    loadAllYear: function () {\r\n      axios.get('/api/vacation/selectGuntaeYear')\r\n        .then((result) => {\r\n          this.sel_searchYear = result.data.data[0].year\r\n          this.searchYear = result.data.data\r\n          this.loadDayOffList()\r\n        }).catch((error) => {\r\n          console.log('error', error)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    /* 페이지 로드시 기본작동 메소드 */\r\n    this.loadAllYear()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}