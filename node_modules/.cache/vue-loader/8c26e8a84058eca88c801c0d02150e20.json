{"remainingRequest":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\plando\\DeptPlando.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\00_WORK\\workspace\\vue_frontend\\src\\views\\plando\\DeptPlando.vue","mtime":1594603943256},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\00_WORK\\workspace\\vue_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgR3JvdXBDb2RlIGZyb20gJy4uLy4uL21peGlucy9Hcm91cENvZGUuanMnDQppbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnDQppbXBvcnQgSlNQREYgZnJvbSAnanNwZGYnDQovLyBpbXBvcnQgWExTWCBmcm9tICd4bHN4Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdEZXB0UGxhbmRvJywNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRlcGFydG1lbnRzOiBbXSwgLy8g67aA7IScIOygleuztCBzZWxlY3Qgb3B0aW9uDQogICAgICBteURlcHRDb2RlOiAnJywgLy8g64K0IOu2gOyEnCDsvZTrk5wNCiAgICAgIHRoaXNXZWVrOiB7IH0sIC8vIOq4iOyjvCDrgqDsp5wo7Iuc7J6R7J28fuyiheujjOydvCkNCiAgICAgIG5leHRXZWVrVGV4dDogJycsIC8vIOywqOyjvCDrgqDsp5wgdGV4dA0KICAgICAgbWVtUm93czogW10sIC8vIOu2gOyEnOybkCDrpqzsiqTtirgNCiAgICAgIGRvUm93czogW10sIC8vIOq4iOyjvCDsi6TsoIEg66as7Iqk7Yq4DQogICAgICBwbGFuUm93czogW10sIC8vIOywqOyjvCDqs4Ttmo0g66as7Iqk7Yq4DQogICAgICB0aGlzV2Vla0F0dDogW10sDQogICAgICBuZXh0V2Vla0F0dDogW10sDQogICAgICBhdHRlbmRhbmNlOiBbJ+y2nOq3vCcsICfstpzsnqUnLCAn7Jm46re8J10sDQogICAgICB1cmk6ICdkYXRhOmFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbDtiYXNlNjQsJywNCiAgICAgIHRlbXBsYXRlOiAnPGh0bWwgeG1sbnM6bz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlIiB4bWxuczp4PSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAiPjxoZWFkPjwhLS1baWYgZ3RlIG1zbyA5XT48eG1sPjx4OkV4Y2VsV29ya2Jvb2s+PHg6RXhjZWxXb3Jrc2hlZXRzPjx4OkV4Y2VsV29ya3NoZWV0Pjx4Ok5hbWU+e3dvcmtzaGVldH08L3g6TmFtZT48eDpXb3Jrc2hlZXRPcHRpb25zPjx4OkRpc3BsYXlHcmlkbGluZXMvPjwveDpXb3Jrc2hlZXRPcHRpb25zPjwveDpFeGNlbFdvcmtzaGVldD48L3g6RXhjZWxXb3Jrc2hlZXRzPjwveDpFeGNlbFdvcmtib29rPjwveG1sPjwhW2VuZGlmXS0tPjwvaGVhZD48Ym9keT48dGFibGU+e3RhYmxlfTwvdGFibGU+PC9ib2R5PjwvaHRtbD4nLA0KICAgICAgYmFzZTY0OiBmdW5jdGlvbiAocykgeyByZXR1cm4gd2luZG93LmJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSkgfSwNCiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKHMsIGMpIHsgcmV0dXJuIHMucmVwbGFjZSgveyhcdyspfS9nLCBmdW5jdGlvbiAobSwgcCkgeyByZXR1cm4gY1twXSB9KSB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7DQogICAgdGhpcy5zZXR0aW5nRGF0ZShuZXcgRGF0ZSgpKSAvLyDrgqDsp5wg7IS47YyFDQogICAgLy8gdGhpcy5zZWFyY2hQbGFuZG8oKQ0KICAgIHRoaXMuZ2V0TXlEZXBhcnRtZW50Q29kZSgpIC8vIOuCtCDrtoDshJwg7L2U65OcIOqwgOyguOyYpOq4sA0KICAgIHRoaXMuZ2V0RGVwYXJ0bWVudEluZm8oKSAvLyDrtoDshJwg7KCV67O0IOqwgOyguOyYpOq4sA0KICB9LA0KICB3YXRjaDogew0KICAgIC8qIOq4iOyjvOydmCDsi5zsnpHsnbwg67OA6rK97J2EIOqwkOyngA0KICAgIOq4iOyjvCDrgqDsp5wg7ISg7YOdIOyLnCwg7IKs7Jqp7J6Q6rCAIOyLnOyekeydvOydhCDslrTrlqQg7JqU7J2866GcIOyEoO2Dne2VmOuToCDrrLTsobDqsbQg7JuU7JqU7J287J20IOyLnOyekeydvOydtCDrkJjrj4TroZ0g7IS47YyFICovDQogICAgJ3RoaXNXZWVrLnN0YXJ0JzogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMudGhpc1dlZWsuc3RhcnQuZ2V0RGF5KCkgIT09IDEpIHsNCiAgICAgICAgLy8gdGhpcy50aGlzV2Vlay5zdGFydCA9IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZSh0aGlzLnRoaXNXZWVrLnN0YXJ0LmdldERhdGUoKSAtICh0aGlzLnRoaXNXZWVrLnN0YXJ0LmdldERheSgpIC0gMSkpKQ0KICAgICAgICB0aGlzLnRoaXNXZWVrLnN0YXJ0LnNldERhdGUodGhpcy50aGlzV2Vlay5zdGFydC5nZXREYXRlKCkgLSAodGhpcy50aGlzV2Vlay5zdGFydC5nZXREYXkoKSAtIDEpKQ0KICAgICAgfQ0KICAgICAgdGhpcy50aGlzV2Vlay5zdGFydC5zZXRIb3VycygxMikNCiAgICAgIHZhciBkYXRlID0gdGhpcy5jYWxjdWxhdGlvbkRhdGUodGhpcy50aGlzV2Vlay5zdGFydCkNCiAgICAgIHRoaXMudGhpc1dlZWsuZW5kID0gZGF0ZS53a0VuZA0KICAgICAgdGhpcy5uZXh0V2Vla1RleHQgPSBkYXRlLm53U3RhcnRUZXh0ICsgJyAtICcgKyBkYXRlLm53RW5kVGV4dA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qIOuCoOynnCDqs4TsgrAg7ZWo7IiYICovDQogICAgY2FsY3VsYXRpb25EYXRlOiBmdW5jdGlvbiAoYW5jaG9yRGF0ZSkgew0KICAgICAgY29uc3QgY3VycmVudFdlZWtEYXkgPSBhbmNob3JEYXRlLmdldERheSgpDQogICAgICBjb25zdCBsZXNzRGF5cyA9IGN1cnJlbnRXZWVrRGF5ID09PSAwID8gNiA6IGN1cnJlbnRXZWVrRGF5IC0gMQ0KICAgICAgY29uc3Qgd2tTdGFydCA9IG5ldyBEYXRlKG5ldyBEYXRlKGFuY2hvckRhdGUpLnNldERhdGUoYW5jaG9yRGF0ZS5nZXREYXRlKCkgLSBsZXNzRGF5cykpDQogICAgICBjb25zdCB3a0VuZCA9IG5ldyBEYXRlKG5ldyBEYXRlKHdrU3RhcnQpLnNldERhdGUod2tTdGFydC5nZXREYXRlKCkgKyA0KSkNCiAgICAgIGNvbnN0IG53U3RhcnQgPSBuZXcgRGF0ZShuZXcgRGF0ZSh3a1N0YXJ0KS5zZXREYXRlKHdrU3RhcnQuZ2V0RGF0ZSgpICsgNykpDQogICAgICBjb25zdCBud0VuZCA9IG5ldyBEYXRlKG5ldyBEYXRlKG53U3RhcnQpLnNldERhdGUobndTdGFydC5nZXREYXRlKCkgKyA0KSkNCiAgICAgIGNvbnN0IG53U3RhcnRUZXh0ID0gbndTdGFydC50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkucmVwbGFjZSgvLS9nLCAnLicpDQogICAgICBjb25zdCBud0VuZFRleHQgPSBud0VuZC50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkucmVwbGFjZSgvLS9nLCAnLicpDQoNCiAgICAgIHJldHVybiB7IHdrU3RhcnQ6IHdrU3RhcnQsIHdrRW5kOiB3a0VuZCwgbndTdGFydDogbndTdGFydCwgbndTdGFydFRleHQ6IG53U3RhcnRUZXh0LCBud0VuZFRleHQ6IG53RW5kVGV4dCB9DQogICAgfSwNCiAgICAvKiDsmKTripgg64Kg7Kec66W8IOuwm+yVhOyZgOyEnCDquIjso7wg64Kg7Kec7JmAIOywqOyjvCDrgqDsp5wgZGVmYXVsdCBzZXR0aW5nICovDQogICAgc2V0dGluZ0RhdGU6IGZ1bmN0aW9uIChpbml0RGF0ZSkgew0KICAgICAgdmFyIGRhdGUgPSB0aGlzLmNhbGN1bGF0aW9uRGF0ZShpbml0RGF0ZSkNCiAgICAgIHRoaXMudGhpc1dlZWsuc3RhcnQgPSBkYXRlLndrU3RhcnQNCiAgICAgIHRoaXMudGhpc1dlZWsuZW5kID0gZGF0ZS53a0VuZA0KICAgICAgdGhpcy5uZXh0V2Vla1RleHQgPSBkYXRlLm53U3RhcnRUZXh0ICsgJyAtICcgKyBkYXRlLm53RW5kVGV4dA0KICAgIH0sDQogICAgLyog64K0IOu2gOyEnCDsvZTrk5wg6rCA7KC47Jik6riwICovDQogICAgZ2V0TXlEZXBhcnRtZW50Q29kZTogZnVuY3Rpb24gKCkgew0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL2dldE15RGVwYXJ0bWVudENvZGUnLCB7DQogICAgICAgIHBhcmFtczogeyBncmNvZGU6IEdyb3VwQ29kZS5ERVBBUlRNRU5UIH0NCiAgICAgIH0pDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMubXlEZXB0Q29kZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5zY29kZQ0KICAgICAgICAgICAgLy8g64+Z6riwIOyymOumrCAo67aA7IScIOy9lOuTnOulvCDqsIDsoLjsmKgg65KkLCDsi6TsoIHsnYQg7KGw7ZqM7ZW07JW87ZWoKQ0KICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICB0aGlzLnNlYXJjaFBsYW5kbygpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLyog67aA7IScIOygleuztCDqsIDsoLjsmKTquLAgKi8NCiAgICBnZXREZXBhcnRtZW50SW5mbzogZnVuY3Rpb24gKCkgew0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL2dldERlcGFydG1lbnRJbmZvJywgew0KICAgICAgICBwYXJhbXM6IHsgZ3Jjb2RlOiBHcm91cENvZGUuREVQQVJUTUVOVCB9DQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLmRlcGFydG1lbnRzLnB1c2goLi4ucmVzcG9uc2UuZGF0YS5kYXRhKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgIH0pDQogICAgfSwNCiAgICAvKiDsl4XrrLTsi6TsoIEg7KGw7ZqMICovDQogICAgc2VhcmNoUGxhbmRvOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmdldERlcGFydG1lbnRNZW1iZXIodGhpcy50aGlzV2VlaykgLy8g67aA7ISc7JuQIOygleuztCDqsIDsoLjsmKTquLANCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5nZXRQbGFuZG9MaXN0KHRoaXMudGhpc1dlZWspIC8vIOu2gOyEnOybkOuzhCDsl4XrrLTsi6TsoIEg6rCA7KC47Jik6riwDQogICAgICAgIHRoaXMuZ2V0VGhpc1dlZWtQbGFuKHRoaXMudGhpc1dlZWssIHRoaXMubXlEZXB0Q29kZSkgLy8g6riI7KO8IOq3vO2DnOuztOqzoCDqsIDsoLjsmKTquLANCiAgICAgICAgdGhpcy5nZXROZXh0V2Vla1BsYW4odGhpcy50aGlzV2VlaywgdGhpcy5teURlcHRDb2RlKSAvLyDssKjso7wg6re87YOc67O06rOgIOqwgOyguOyYpOq4sA0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qIOyEoO2Dne2VnCDrtoDshJzsnZgg67aA7ISc7JuQIGlkIOqwgOyguOyYpOq4sCAqLw0KICAgIGdldERlcGFydG1lbnRNZW1iZXI6IGZ1bmN0aW9uIChzRGF0ZSkgew0KICAgICAgc0RhdGUgPSB0aGlzLmRhdGVUb1N0cmluZyhzRGF0ZS5zdGFydCkNCiAgICAgIGF4aW9zLmdldCgnL2FwaS9nZXREZXBhcnRtZW50TWVtYmVyJywgew0KICAgICAgICBwYXJhbXM6IHsgc2NvZGU6IHRoaXMubXlEZXB0Q29kZSwgc0RhdGU6IHNEYXRlIH0NCiAgICAgIH0pDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAgIC8vIHRoaXMubWVtUm93cy5zcGxpY2UoMCkNCiAgICAgICAgICAgIC8vIGZvciAoY29uc3QgdmFsdWUgb2YgcmVzcG9uc2UuZGF0YS5kYXRhKSB7DQogICAgICAgICAgICAvLyAgIHRoaXMubWVtUm93cy5wdXNoKHZhbHVlKQ0KICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgdGhpcy5tZW1Sb3dzID0gcmVzcG9uc2UuZGF0YS5kYXRhDQogICAgICAgICAgfQ0KICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7DQogICAgICAgIH0pDQogICAgfSwNCiAgICAvKiDsl4XrrLTsi6TsoIEg7KGw7ZqMICovDQogICAgZ2V0UGxhbmRvTGlzdDogZnVuY3Rpb24gKHNEYXRlKSB7DQogICAgICBzRGF0ZSA9IHRoaXMuZGF0ZVRvU3RyaW5nKHNEYXRlLnN0YXJ0KQ0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL2dldERlcGFydG1lbnRNZW1iZXJQbGFuZG8nLCB7DQogICAgICAgIHBhcmFtczogeyBzRGF0ZTogc0RhdGUsIGdyY29kZTogR3JvdXBDb2RlLlNUQVRFLCBzY29kZTogdGhpcy5teURlcHRDb2RlIH0NCiAgICAgIH0pDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAgIC8vIOuqqOuToCDtlonsnYQg7KeA7Jqw6rOgIOuLpOyLnCBwdXNoDQogICAgICAgICAgICB0aGlzLmRvUm93cy5zcGxpY2UoMCkNCiAgICAgICAgICAgIHRoaXMucGxhblJvd3Muc3BsaWNlKDApDQogICAgICAgICAgICAvLyDquIjso7zsi6TsoIHqs7wg7LCo7KO86rOE7ZqN7J2EIOqwgeqwgSDsoIDsnqUNCiAgICAgICAgICAgIGNvbnN0IGRvRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7DQogICAgICAgICAgICAgIHJldHVybiBlbC5ndWJ1biA9PT0gJzEnDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgY29uc3QgcGxhbkRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChlbCkgew0KICAgICAgICAgICAgICByZXR1cm4gZWwuZ3VidW4gPT09ICcyJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgcmVzcG9uc2UuZGF0YS5kYXRhKSB7DQogICAgICAgICAgICAgIGlmICh2YWx1ZS5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgdmFsdWUuY29udGVudCA9IHZhbHVlLmNvbnRlbnQucmVwbGFjZSgvIC9nLCAnJm5ic3A7JykgLy8g652E7Ja07JOw6riwIOyymOumrA0KICAgICAgICAgICAgICAgIHZhbHVlLmNvbnRlbnQgPSB2YWx1ZS5jb250ZW50LnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7JykgLy8gPCAsID4g7LKY66asDQogICAgICAgICAgICAgICAgdmFsdWUuY29udGVudCA9IHZhbHVlLmNvbnRlbnQucmVwbGFjZSgvKD86XHJcbnxccnxcbikvZywgJzxicj4nKSAvLyDspITrsJTqv4gg7LKY66asDQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICBpZiAodmFsdWUuYmlnbykgew0KICAgICAgICAgICAgICAgIHZhbHVlLmJpZ28gPSB2YWx1ZS5iaWdvLnJlcGxhY2UoLyAvZywgJyZuYnNwOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7JykucmVwbGFjZSgvKD86XHJcbnxccnxcbikvZywgJzxicj4nKSAvLyDspITrsJTqv4gg7LKY66asDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHRoaXMuZG9Sb3dzID0gZG9EYXRhDQogICAgICAgICAgICAvLyB0aGlzLnBsYW5Sb3dzID0gcGxhbkRhdGENCiAgICAgICAgICAgIHRoaXMuZG9Sb3dzLnB1c2goLi4uZG9EYXRhKQ0KICAgICAgICAgICAgdGhpcy5wbGFuUm93cy5wdXNoKC4uLnBsYW5EYXRhKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgIH0pLmZpbmFsbHkoKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIH0pDQogICAgfSwNCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhldmVudC50YXJnZXQudmFsdWUpDQogICAgfSwNCiAgICAvKiDquIjso7wg6re87YOc67O06rOgICovDQogICAgZ2V0VGhpc1dlZWtQbGFuOiBmdW5jdGlvbiAoc0RhdGUsIG15RGVwdENvZGUpIHsNCiAgICAgIHNEYXRlID0gdGhpcy5kYXRlVG9TdHJpbmcoc0RhdGUuc3RhcnQpDQogICAgICBheGlvcy5nZXQoJy9hcGkvdGhpc1dlZWtQbGFuZG8nLCB7DQogICAgICAgIHBhcmFtczogeyBncmNvZGU6IEdyb3VwQ29kZS5WQUNBVElPTiwgc0RhdGU6IHNEYXRlLCBzY29kZTogbXlEZXB0Q29kZSB9DQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMudGhpc1dlZWtBdHQgPSByZXMuZGF0YS5kYXRhDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXgpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IhISEhIDogJyArIGV4KQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLyog7LCo7KO8IOq3vO2DnOuztOqzoCAqLw0KICAgIGdldE5leHRXZWVrUGxhbjogZnVuY3Rpb24gKHNEYXRlLCBteURlcHRDb2RlKSB7DQogICAgICBzRGF0ZSA9IHRoaXMuZGF0ZVRvU3RyaW5nKHNEYXRlLnN0YXJ0KQ0KICAgICAgYXhpb3MuZ2V0KCcvYXBpL25leHRXZWVrUGxhbmRvJywgew0KICAgICAgICBwYXJhbXM6IHsgZ3Jjb2RlOiBHcm91cENvZGUuVkFDQVRJT04sIHNEYXRlOiBzRGF0ZSwgc2NvZGU6IG15RGVwdENvZGUgfQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLm5leHRXZWVrQXR0ID0gcmVzLmRhdGEuZGF0YQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGV4KSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yISEhISA6ICcgKyBleCkNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIGV4Y2VsRG93bmxvYWQ6IGZ1bmN0aW9uICh0YWJsZSwgbmFtZSkgew0KICAgICAgaWYgKCF0YWJsZS5ub2RlVHlwZSkgdGFibGUgPSB0aGlzLiRyZWZzLnRhYmxlDQogICAgICAvLyBjb25zb2xlLmxvZyh0YWJsZSkNCiAgICAgIHZhciBjdHggPSB7IHdvcmtzaGVldDogbmFtZSB8fCAnV29ya3NoZWV0JywgdGFibGU6IHRhYmxlLmlubmVySFRNTCB9DQogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMudXJpICsgdGhpcy5iYXNlNjQodGhpcy5mb3JtYXQodGhpcy50ZW1wbGF0ZSwgY3R4KSkNCiAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGNlbEJ1dHRvbicpLmRvd25sb2FkID0gJ2FiY2RlJw0KICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4Y2VsQnV0dG9uJykuaHJlZiA9IHRoaXMudXJpICsgdGhpcy5iYXNlNjQodGhpcy5mb3JtYXQodGhpcy50ZW1wbGF0ZSwgY3R4KSkNCiAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGNlbEJ1dHRvbicpLmNsaWNrKCkNCiAgICB9LA0KICAgIGRvd25sb2FkV2l0aENTUyAoKSB7DQogICAgICBjb25zdCBkb2MgPSBuZXcgSlNQREYoJycsICdtbScsICdhNCcpDQogICAgICB2YXIgcG9zaXRpb24gPSAxDQogICAgICB2YXIgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycsIDEuMCkNCiAgICAgIGNvbnN0IHNEYXRlID0gdGhpcy5kYXRlVG9TdHJpbmcodGhpcy50aGlzV2Vlay5zdGFydCkNCiAgICAgIGNvbnN0IGVEYXRlID0gdGhpcy5kYXRlVG9TdHJpbmcodGhpcy50aGlzV2Vlay5lbmQpDQogICAgICBodG1sMmNhbnZhcyh0aGlzLiRyZWZzLmNvbnRlbnQsIHsgY2FudmFzOiBjYW52YXNFbGVtZW50IH0pLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgew0KICAgICAgICBjb25zdCBpbWcgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKQ0KICAgICAgICB2YXIgbWFyZ2luID0gMQ0KICAgICAgICB2YXIgaW1nV2lkdGggPSAyMTAgLSAyICogbWFyZ2luIC8vIOydtOuvuOyngCDqsIDroZwg6ri47J20KG1tKSBBNCDquLDspIANCiAgICAgICAgdmFyIHBhZ2VIZWlnaHQgPSBpbWdXaWR0aCAqIDEuNDUgLy8g7Lac66ClIO2OmOydtOyngCDshLjroZwg6ri47J20IOqzhOyCsCBBNCDquLDspIANCiAgICAgICAgdmFyIGltZ0hlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiBpbWdXaWR0aCAvIGNhbnZhcy53aWR0aA0KICAgICAgICB2YXIgaGVpZ2h0TGVmdCA9IGltZ0hlaWdodA0KICAgICAgICBkb2MuYWRkSW1hZ2UoaW1nLCAnUE5HJywgbWFyZ2luLCBwb3NpdGlvbiwgaW1nV2lkdGgsIGltZ0hlaWdodCkNCiAgICAgICAgaGVpZ2h0TGVmdCAtPSBwYWdlSGVpZ2h0DQogICAgICAgIC8vIO2VnCDtjpjsnbTsp4Ag7J207IOB7J28IOqyveyasCDro6jtlIQg64+M66m07IScIOy2nOugpQ0KICAgICAgICB3aGlsZSAoaGVpZ2h0TGVmdCA+PSAxKSB7DQogICAgICAgICAgcG9zaXRpb24gPSBoZWlnaHRMZWZ0IC0gaW1nSGVpZ2h0DQogICAgICAgICAgZG9jLmFkZFBhZ2UoKQ0KICAgICAgICAgIGRvYy5hZGRJbWFnZShpbWcsICdQTkcnLCBtYXJnaW4sIHBvc2l0aW9uLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KQ0KICAgICAgICAgIGhlaWdodExlZnQgLT0gcGFnZUhlaWdodA0KICAgICAgICB9DQogICAgICAgIGRvYy5zYXZlKHNEYXRlICsgJyAtICcgKyBlRGF0ZSArICcucGRmJykNCiAgICAgIH0pDQogICAgfSwNCiAgICAvKiDrgqDsp5wg7ZiV7IudIOuzgO2ZmCAqLw0KICAgIGRhdGVUb1N0cmluZzogZnVuY3Rpb24gKGRhdGUpIHsNCiAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKS5yZXBsYWNlKC8tL2csICcnKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["DeptPlando.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DeptPlando.vue","sourceRoot":"src/views/plando","sourcesContent":["<template>\r\n  <div class=\"conts-area\">\r\n    <div class=\"conts-tit\">\r\n      <h2>부서별 업무실적 조회</h2>\r\n    </div>\r\n    <div class=\"list-top-area\">\r\n      <div class=\"fl\">\r\n        <label for=\"s1\">부서명</label>\r\n        <select id=\"s1\" title=\"select\" @change=onChange($event) v-model=\"myDeptCode\">\r\n          <option v-for=\"department in departments\" v-bind:key=\"department.scode\" v-bind:value=\"department.scode\">{{ department.scodeNm }}</option>\r\n        </select>\r\n      </div>\r\n      <p class=\"d-in fl mt5 mg10\">금주</p>\r\n      <div class=\"fl wp25\">\r\n        <div class=\"vcal-area\">\r\n          <!-- <v-text-field slot=\"activator\" v-model=\"thisWeek\" label=\"Picker in dialog\" prepend-icon=\"vc-ico\" class=\"vc-ico\">\r\n          </v-text-field> -->\r\n          <v-date-picker\r\n            mode='range'\r\n            v-model='thisWeek'\r\n            :disabled-dates='{ weekdays: [1, 7] }'\r\n            :popover=\"{ placement: 'bottom', visibility: 'click' }\"\r\n            class=\"vc-ico2\">\r\n          </v-date-picker>\r\n          <!-- <span class=\"vc-ico\"></span> -->\r\n        </div>\r\n      </div>\r\n      <p class=\"d-in fl mt5 mg10\">차주</p>\r\n      <input type=\"text\" v-model=\"nextWeekText\" readonly>\r\n      <div class=\"fr\">\r\n        <button type=\"button\" title=\"조회\" class=\"btn\" @click=\"downloadWithCSS\">pdf 다운로드</button>\r\n        <button type=\"button\" title=\"조회\" class=\"btn\" @click=\"excelDownload('table', 'sheet')\" id=\"excelButton\">엑셀 다운로드</button>\r\n        <button type=\"button\" title=\"조회\" class=\"btn btn-blue\" @click=\"searchPlando()\">조회</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"list-plando\" ref=\"content\">\r\n      <!-- table list start -->\r\n      <table class=\"tbl-body\" ref=\"table\" frame=\"hsides\" rules=\"groups\">\r\n<!--         <caption>리스트</caption> -->\r\n        <colgroup>\r\n          <col style=\"width:8%\">\r\n          <col style=\"width:28%\">\r\n          <col style=\"width:8%\">\r\n          <col style=\"width:8%\">\r\n          <col style=\"width:28%\">\r\n          <col style=\"width:8%\">\r\n          <col style=\"width:12%\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th colspan=\"3\">금주실적</th>\r\n            <th colspan=\"3\">차주계획</th>\r\n          </tr>\r\n          <tr>\r\n            <th>성명</th>\r\n            <th>실적</th>\r\n            <th>일정</th>\r\n            <th>진행사항</th>\r\n            <th>계획</th>\r\n            <th>일정</th>\r\n            <th>비고</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(memValue, memRow) in memRows\" v-bind:key=\"memRow.id\">\r\n            <td v-html=\"memValue.name\"></td>\r\n            <td colspan=\"3\">\r\n              <span class=\"line t1\"></span>\r\n              <span class=\"line t2\"></span>\r\n              <table class=\"tbl-list\">\r\n                <colgroup>\r\n                  <col style=\"width:63.8%\">\r\n                  <col style=\"width:18.2%\">\r\n                  <col style=\"width:18%\">\r\n                </colgroup>\r\n                <tbody v-for=\"(doValue, doRow) in doRows\" v-bind:key=\"doRow.serial\">\r\n                  <tr v-if=\"memValue.id == doValue.id\" style=\"border-top: 1px solid #EEE !important\">\r\n                      <td v-html=\"doValue.content\"></td>\r\n                      <td>{{ doValue.sdate }} ~ {{ doValue.edate }}</td>\r\n                      <td>{{ doValue.proceedNm }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n            <td colspan=\"3\">\r\n              <span class=\"line t3\"></span>\r\n              <span class=\"line t4\"></span>\r\n              <table class=\"tbl-list t2\">\r\n                <colgroup>\r\n                  <col style=\"width:58.5%\">\r\n                  <col style=\"width:16.5%\">\r\n                  <col style=\"width:25%\">\r\n                </colgroup>\r\n                <tbody v-for=\"(planValue, planRow) in planRows\" v-bind:key=\"planRow.serial\">\r\n                  <tr v-if=\"memValue.id == planValue.id\" style=\"border-top: 1px solid #EEE !important\">\r\n                    <td v-html=\"planValue.content\"></td>\r\n                    <td>{{ planValue.sdate }} ~ {{ planValue.edate }}</td>\r\n                    <td v-html=\"planValue.bigo\"></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- //table list end -->\r\n    </div>\r\n    <div class=\"tbl-plando-week\">\r\n      <!-- 금주 start -->\r\n      <table class=\"tbl\">\r\n        <caption>금주</caption>\r\n        <colgroup>\r\n          <col style=\"width:16%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:14%\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th>근태보고<br>(금주)</th>\r\n            <th class=\"bg-gray\">일</th>\r\n            <th>월</th>\r\n            <th>화</th>\r\n            <th>수</th>\r\n            <th>목</th>\r\n            <th>금</th>\r\n            <th class=\"bg-gray\">토</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, i) in thisWeekAtt\" v-bind:key=\"i\">\r\n            <th>{{ item.name }}</th>\r\n            <td class=\"bg-gray\"></td>\r\n            <td v-if=\"attendance.includes(item.mon)\" style=\"color:black\">{{ item.mon }}</td><td v-else style=\"color:red\">{{ item.mon }}</td>\r\n            <td v-if=\"attendance.includes(item.tue)\" style=\"color:black\">{{ item.tue }}</td><td v-else style=\"color:red\">{{ item.tue }}</td>\r\n            <td v-if=\"attendance.includes(item.wed)\" style=\"color:black\">{{ item.wed }}</td><td v-else style=\"color:red\">{{ item.wed }}</td>\r\n            <td v-if=\"attendance.includes(item.thur)\" style=\"color:black\">{{ item.thur }}</td><td v-else style=\"color:red\">{{ item.thur }}</td>\r\n            <td v-if=\"attendance.includes(item.fri)\" style=\"color:black\">{{ item.fri }}</td><td v-else style=\"color:red\">{{ item.fri }}</td>\r\n            <td class=\"bg-gray\"></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- 금주 end -->\r\n\r\n      <!-- 차주 start -->\r\n      <table class=\"tbl\">\r\n        <caption>차주</caption>\r\n        <colgroup>\r\n          <col style=\"width:16%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:12%\">\r\n          <col style=\"width:14%\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th>근태보고<br>(차주)</th>\r\n            <th class=\"bg-gray\">일</th>\r\n            <th>월</th>\r\n            <th>화</th>\r\n            <th>수</th>\r\n            <th>목</th>\r\n            <th>금</th>\r\n            <th class=\"bg-gray\">토</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, i) in nextWeekAtt\" v-bind:key=\"i\">\r\n            <th>{{ item.name }}</th>\r\n            <td class=\"bg-gray\"></td>\r\n            <td v-if=\"attendance.includes(item.mon)\" style=\"color:black\">{{ item.mon }}</td><td v-else style=\"color:red\">{{ item.mon }}</td>\r\n            <td v-if=\"attendance.includes(item.tue)\" style=\"color:black\">{{ item.tue }}</td><td v-else style=\"color:red\">{{ item.tue }}</td>\r\n            <td v-if=\"attendance.includes(item.wed)\" style=\"color:black\">{{ item.wed }}</td><td v-else style=\"color:red\">{{ item.wed }}</td>\r\n            <td v-if=\"attendance.includes(item.thur)\" style=\"color:black\">{{ item.thur }}</td><td v-else style=\"color:red\">{{ item.thur }}</td>\r\n            <td v-if=\"attendance.includes(item.fri)\" style=\"color:black\">{{ item.fri }}</td><td v-else style=\"color:red\">{{ item.fri }}</td>\r\n            <td class=\"bg-gray\"></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- 금주 end -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport GroupCode from '../../mixins/GroupCode.js'\r\nimport html2canvas from 'html2canvas'\r\nimport JSPDF from 'jspdf'\r\n// import XLSX from 'xlsx'\r\n\r\nexport default {\r\n  name: 'DeptPlando',\r\n  data () {\r\n    return {\r\n      departments: [], // 부서 정보 select option\r\n      myDeptCode: '', // 내 부서 코드\r\n      thisWeek: { }, // 금주 날짜(시작일~종료일)\r\n      nextWeekText: '', // 차주 날짜 text\r\n      memRows: [], // 부서원 리스트\r\n      doRows: [], // 금주 실적 리스트\r\n      planRows: [], // 차주 계획 리스트\r\n      thisWeekAtt: [],\r\n      nextWeekAtt: [],\r\n      attendance: ['출근', '출장', '외근'],\r\n      uri: 'data:application/vnd.ms-excel;base64,',\r\n      template: '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',\r\n      base64: function (s) { return window.btoa(unescape(encodeURIComponent(s))) },\r\n      format: function (s, c) { return s.replace(/{(\\w+)}/g, function (m, p) { return c[p] }) }\r\n    }\r\n  },\r\n  created: function () {\r\n    this.settingDate(new Date()) // 날짜 세팅\r\n    // this.searchPlando()\r\n    this.getMyDepartmentCode() // 내 부서 코드 가져오기\r\n    this.getDepartmentInfo() // 부서 정보 가져오기\r\n  },\r\n  watch: {\r\n    /* 금주의 시작일 변경을 감지\r\n    금주 날짜 선택 시, 사용자가 시작일을 어떤 요일로 선택하든 무조건 월요일이 시작일이 되도록 세팅 */\r\n    'thisWeek.start': function () {\r\n      if (this.thisWeek.start.getDay() !== 1) {\r\n        // this.thisWeek.start = new Date(new Date().setDate(this.thisWeek.start.getDate() - (this.thisWeek.start.getDay() - 1)))\r\n        this.thisWeek.start.setDate(this.thisWeek.start.getDate() - (this.thisWeek.start.getDay() - 1))\r\n      }\r\n      this.thisWeek.start.setHours(12)\r\n      var date = this.calculationDate(this.thisWeek.start)\r\n      this.thisWeek.end = date.wkEnd\r\n      this.nextWeekText = date.nwStartText + ' - ' + date.nwEndText\r\n    }\r\n  },\r\n  methods: {\r\n    /* 날짜 계산 함수 */\r\n    calculationDate: function (anchorDate) {\r\n      const currentWeekDay = anchorDate.getDay()\r\n      const lessDays = currentWeekDay === 0 ? 6 : currentWeekDay - 1\r\n      const wkStart = new Date(new Date(anchorDate).setDate(anchorDate.getDate() - lessDays))\r\n      const wkEnd = new Date(new Date(wkStart).setDate(wkStart.getDate() + 4))\r\n      const nwStart = new Date(new Date(wkStart).setDate(wkStart.getDate() + 7))\r\n      const nwEnd = new Date(new Date(nwStart).setDate(nwStart.getDate() + 4))\r\n      const nwStartText = nwStart.toISOString().substr(0, 10).replace(/-/g, '.')\r\n      const nwEndText = nwEnd.toISOString().substr(0, 10).replace(/-/g, '.')\r\n\r\n      return { wkStart: wkStart, wkEnd: wkEnd, nwStart: nwStart, nwStartText: nwStartText, nwEndText: nwEndText }\r\n    },\r\n    /* 오늘 날짜를 받아와서 금주 날짜와 차주 날짜 default setting */\r\n    settingDate: function (initDate) {\r\n      var date = this.calculationDate(initDate)\r\n      this.thisWeek.start = date.wkStart\r\n      this.thisWeek.end = date.wkEnd\r\n      this.nextWeekText = date.nwStartText + ' - ' + date.nwEndText\r\n    },\r\n    /* 내 부서 코드 가져오기 */\r\n    getMyDepartmentCode: function () {\r\n      axios.get('/api/getMyDepartmentCode', {\r\n        params: { grcode: GroupCode.DEPARTMENT }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.myDeptCode = response.data.data.scode\r\n            // 동기 처리 (부서 코드를 가져온 뒤, 실적을 조회해야함)\r\n            this.$nextTick(function () {\r\n              this.searchPlando()\r\n            })\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        }).finally(() => {\r\n        })\r\n    },\r\n    /* 부서 정보 가져오기 */\r\n    getDepartmentInfo: function () {\r\n      axios.get('/api/getDepartmentInfo', {\r\n        params: { grcode: GroupCode.DEPARTMENT }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.departments.push(...response.data.data)\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    /* 업무실적 조회 */\r\n    searchPlando: function () {\r\n      this.getDepartmentMember(this.thisWeek) // 부서원 정보 가져오기\r\n      this.$nextTick(function () {\r\n        this.getPlandoList(this.thisWeek) // 부서원별 업무실적 가져오기\r\n        this.getThisWeekPlan(this.thisWeek, this.myDeptCode) // 금주 근태보고 가져오기\r\n        this.getNextWeekPlan(this.thisWeek, this.myDeptCode) // 차주 근태보고 가져오기\r\n      })\r\n    },\r\n    /* 선택한 부서의 부서원 id 가져오기 */\r\n    getDepartmentMember: function (sDate) {\r\n      sDate = this.dateToString(sDate.start)\r\n      axios.get('/api/getDepartmentMember', {\r\n        params: { scode: this.myDeptCode, sDate: sDate }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            // this.memRows.splice(0)\r\n            // for (const value of response.data.data) {\r\n            //   this.memRows.push(value)\r\n            // }\r\n            this.memRows = response.data.data\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        }).finally(() => {\r\n        })\r\n    },\r\n    /* 업무실적 조회 */\r\n    getPlandoList: function (sDate) {\r\n      sDate = this.dateToString(sDate.start)\r\n      axios.get('/api/getDepartmentMemberPlando', {\r\n        params: { sDate: sDate, grcode: GroupCode.STATE, scode: this.myDeptCode }\r\n      })\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            // 모든 행을 지우고 다시 push\r\n            this.doRows.splice(0)\r\n            this.planRows.splice(0)\r\n            // 금주실적과 차주계획을 각각 저장\r\n            const doData = response.data.data.filter(function (el) {\r\n              return el.gubun === '1'\r\n            })\r\n            const planData = response.data.data.filter(function (el) {\r\n              return el.gubun === '2'\r\n            })\r\n            for (const value of response.data.data) {\r\n              if (value.content) {\r\n                value.content = value.content.replace(/ /g, '&nbsp;') // 띄어쓰기 처리\r\n                value.content = value.content.replace(/</g, '&lt;').replace(/>/g, '&gt;') // < , > 처리\r\n                value.content = value.content.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>') // 줄바꿈 처리\r\n              }\r\n\r\n              if (value.bigo) {\r\n                value.bigo = value.bigo.replace(/ /g, '&nbsp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/(?:\\r\\n|\\r|\\n)/g, '<br>') // 줄바꿈 처리\r\n              }\r\n            }\r\n            // this.doRows = doData\r\n            // this.planRows = planData\r\n            this.doRows.push(...doData)\r\n            this.planRows.push(...planData)\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error)\r\n        }).finally((response) => {\r\n        })\r\n    },\r\n    onChange: function (event) {\r\n      // console.log(event.target.value)\r\n    },\r\n    /* 금주 근태보고 */\r\n    getThisWeekPlan: function (sDate, myDeptCode) {\r\n      sDate = this.dateToString(sDate.start)\r\n      axios.get('/api/thisWeekPlando', {\r\n        params: { grcode: GroupCode.VACATION, sDate: sDate, scode: myDeptCode }\r\n      })\r\n        .then(res => {\r\n          this.thisWeekAtt = res.data.data\r\n        })\r\n        .catch((ex) => {\r\n          console.log('Error!!!! : ' + ex)\r\n        })\r\n    },\r\n    /* 차주 근태보고 */\r\n    getNextWeekPlan: function (sDate, myDeptCode) {\r\n      sDate = this.dateToString(sDate.start)\r\n      axios.get('/api/nextWeekPlando', {\r\n        params: { grcode: GroupCode.VACATION, sDate: sDate, scode: myDeptCode }\r\n      })\r\n        .then(res => {\r\n          this.nextWeekAtt = res.data.data\r\n        })\r\n        .catch((ex) => {\r\n          console.log('Error!!!! : ' + ex)\r\n        })\r\n    },\r\n    excelDownload: function (table, name) {\r\n      if (!table.nodeType) table = this.$refs.table\r\n      // console.log(table)\r\n      var ctx = { worksheet: name || 'Worksheet', table: table.innerHTML }\r\n      window.location.href = this.uri + this.base64(this.format(this.template, ctx))\r\n      // document.getElementById('excelButton').download = 'abcde'\r\n      // document.getElementById('excelButton').href = this.uri + this.base64(this.format(this.template, ctx))\r\n      // document.getElementById('excelButton').click()\r\n    },\r\n    downloadWithCSS () {\r\n      const doc = new JSPDF('', 'mm', 'a4')\r\n      var position = 1\r\n      var canvasElement = document.createElement('canvas', 1.0)\r\n      const sDate = this.dateToString(this.thisWeek.start)\r\n      const eDate = this.dateToString(this.thisWeek.end)\r\n      html2canvas(this.$refs.content, { canvas: canvasElement }).then(function (canvas) {\r\n        const img = canvas.toDataURL('image/png')\r\n        var margin = 1\r\n        var imgWidth = 210 - 2 * margin // 이미지 가로 길이(mm) A4 기준\r\n        var pageHeight = imgWidth * 1.45 // 출력 페이지 세로 길이 계산 A4 기준\r\n        var imgHeight = canvas.height * imgWidth / canvas.width\r\n        var heightLeft = imgHeight\r\n        doc.addImage(img, 'PNG', margin, position, imgWidth, imgHeight)\r\n        heightLeft -= pageHeight\r\n        // 한 페이지 이상일 경우 루프 돌면서 출력\r\n        while (heightLeft >= 1) {\r\n          position = heightLeft - imgHeight\r\n          doc.addPage()\r\n          doc.addImage(img, 'PNG', margin, position, imgWidth, imgHeight)\r\n          heightLeft -= pageHeight\r\n        }\r\n        doc.save(sDate + ' - ' + eDate + '.pdf')\r\n      })\r\n    },\r\n    /* 날짜 형식 변환 */\r\n    dateToString: function (date) {\r\n      return date.toISOString().substr(0, 10).replace(/-/g, '')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}